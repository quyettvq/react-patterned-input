module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),u=[];function a(e){for(var t=-1,n=0;n<u.length;n++)if(u[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],l=n[c]||0,s="".concat(c," ").concat(l);n[c]=l+1;var f=a(s),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(u[f].references++,u[f].updater(p)):u.push({identifier:s,updater:g(p,t),references:1}),o.push(s)}return o}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var u=i(e.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(t)}return t}var s,f=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function p(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=f(t,r);else{var i=document.createTextNode(r),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(i,u[t]):e.appendChild(i)}}function d(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var y=null,v=0;function g(e,t){var n,o,r;if(t.singleton){var i=v++;n=y||(y=l(t)),o=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else n=l(t),o=d.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);u[r].references--}for(var i=c(e,t),l=0;l<n.length;l++){var s=a(n[l]);0===u[s].references&&(u[s].updater(),u.splice(s,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(u=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(u)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var u,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(var u=0;u<e.length;u++){var a=e[u];null!=a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="(".concat(a[2],") and (").concat(n,")")),t.push(a))}},t}},function(e,t,n){var o=n(1),r=n(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".patterned-input {\n  cursor: text;\n}\n.patterned-input ul {\n  list-style: none;\n}\n.patterned-input ul li {\n  display: inline-block;\n  vertical-align: middle;\n}\n",""])},function(e,t,n){var o=n(1),r=n(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".template-input .number-piece input {\n  border: none;\n  background: #FFFFFF;\n  width: 0;\n  caret-color: transparent;\n}\n.template-input .number-piece.focused input {\n  background: #3F96D6;\n  color: #FFFFFF;\n}\n",""])},function(e,t,n){var o=n(1),r=n(8);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"",""])},function(e,t,n){"use strict";n.r(t),n.d(t,"PIECE_NUMBER",(function(){return R})),n.d(t,"PIECE_SELECT",(function(){return E}));n(3);var o=n(0),r=n.n(o);n(5);function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(o=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,o,i=p(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=i.call(this,e),h.call(y(t));var n=t.props,o=n.defaultValue,r=n.max,c=a(u.normalizeDigitsAndValue(o,r),2),l=c[0],s=c[1];return t.state={digits:l,value:s,focused:!1,autoChangeFocusAllowed:D(l),shouldReplaceIfAddDigit:!1,isTemp:!1,lastValidDigitsAndValueBeforeBlur:null},t.pushChange(),t.input=null,t}return t=u,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value,o=e.max;if(void 0===n||n===t.value||t.isTemp)return null;var r=u.normalizeDigitsAndValue(n,o);return t.digits=r[0],t.value=r[1],t.lastValidDigitsAndValueBeforeBlur=null,t}}],(n=[{key:"componentDidMount",value:function(){this.initInputStyle()}},{key:"componentDidUpdate",value:function(){this.state.isTemp||this.ensureValueIsValid()}},{key:"render",value:function(){var e=this,t=this.props.disabled,n=this.state.focused,o=this.getDisplayedValue(),i=this.getInputStyle(o);return r.a.createElement("div",{className:"number-piece"+(n?" focused":"")},r.a.createElement("input",{type:"text",ref:function(t){e.input=t,e.props.onInputRef(t)},onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onPaste:this.onPaste,onChange:this.onChange,onInput:this.onInput,onFocus:this.onFocus,onBlur:this.onBlur,value:o,style:i,disabled:t,spellCheck:!1}))}}])&&s(t.prototype,n),o&&s(t,o),u}(r.a.Component);g.normalizeDigitsAndValue=function(e,t){var n=b(e,t);return[n,m(n)]};var h=function(){var e=this;this.ensureValueIsValid=function(){var t=e.state,n=t.digits,o=t.value,r=t.focused,u=t.lastValidDigitsAndValueBeforeBlur,c=a(r||null===u?e.getValidDigitsAndValue(n,o):e.getValidDigitsAndValue.apply(e,i(u)),2),l=c[0],s=c[1];return o===s||(e.updateDigitsAndValue(l,s),!1)},this.initInputStyle=function(){var t=e.getInputStyle(e.getDisplayedValue());for(var n in t)t.hasOwnProperty(n)&&(e.input.style[n]=t[n])},this.getValidDigitsAndValue=function(t,n){var o=e.props,r=o.min,i=o.max;return null===n?[t,n]:Number(n)<r?[t=b(r,i),r]:Number(n)>i?[t=b(i,i),i]:[t,n]},this.pushChange=function(t){var n=e.props.onChange,o=e.state.value;n(null!==o?Number(o):null,t)},this.setTempDigitsAndValue=function(t,n){e.setState({digits:t,value:n,isTemp:!0},(function(){var n=t.every((function(e){return null!==e}));e.pushChange(n)})),e.allowAutoChangeFocusIfOk(t)},this.updateDigitsAndValue=function(t,n){e.setState({digits:t,value:n},(function(){return e.pushChange(!0)})),e.allowAutoChangeFocusIfOk(t)},this.allowAutoChangeFocusIfOk=function(t){D(t)&&e.setState({autoChangeFocusAllowed:!0})},this.autoChangeFocusIfSuitable=function(){e.state.autoChangeFocusAllowed&&e.state.digits.every((function(e){return null!==e}))&&(e.setState({autoChangeFocusAllowed:!1}),e.props.autoChangeFocus())},this.updateSyncedDigitsAndValue=function(t,n,o){o?e.updateDigitsAndValue.apply(e,i(e.getValidDigitsAndValue(t,n))):e.setTempDigitsAndValue(t,n)},this.syncDigitsToValue=function(t){var n=e.props.max,o=m(t),r=b(o,n);o=m(r),e.updateSyncedDigitsAndValue(r,o,!1)},this.syncValueToDigits=function(t){var n=b(t,e.props.max),o=m(n);e.updateSyncedDigitsAndValue(n,o,!0)},this.addDigit=function(t){var n=e.state.digits;e.syncDigitsToValue(n.concat(t))},this.setDigit=function(t){e.setState({autoChangeFocusAllowed:D([])}),e.syncDigitsToValue([t])},this.popDigit=function(){var t=e.state.digits;if(0===t.length||t.every((function(e){return"0"===e})))e.syncValueToDigits(null);else{var n=[].concat(t);n.pop(),e.syncDigitsToValue(n)}},this.increaseValue=function(){var t=e.props,n=t.min,o=t.max,r=t.increasingDefaultNumber,i=e.state.value;if(Number(i)!==o){if(Number(i)>o&&e.syncValueToDigits(o),null===i)return e.setState({autoChangeFocusAllowed:!1}),void e.syncValueToDigits(void 0!==r?r:n);e.syncValueToDigits(Number(i)+1)}},this.decreaseValue=function(){var t=e.props,n=t.min,o=t.max,r=t.decreasingDefaultNumber,i=e.state.value;if(Number(i)!==n){if(Number(i)<n&&e.syncValueToDigits(n),null===i)return e.setState({autoChangeFocusAllowed:!1}),void e.syncValueToDigits(void 0!==r?r:o);i>0&&e.syncValueToDigits(Number(i)-1)}},this.onKeyDown=function(t){return isNaN(t.key)?"Delete"===t.key||"Backspace"===t.key?(t.preventDefault(),e.state.digits.every((function(e){return null===e}))?"Delete"===t.key?void e.props.onForward():void e.props.onBackward():(e.state.shouldReplaceIfAddDigit&&e.setState({shouldReplaceIfAddDigit:!1}),void e.popDigit())):"ArrowUp"===t.key?(t.preventDefault(),void e.increaseValue()):"ArrowDown"===t.key?(t.preventDefault(),void e.decreaseValue()):"ArrowLeft"===t.key?(t.preventDefault(),void e.props.onBackward()):"ArrowRight"===t.key?(t.preventDefault(),void e.props.onForward()):void e.props.onUnhandledKeyDown(t.key):(t.preventDefault(),e.state.shouldReplaceIfAddDigit?(e.setState({shouldReplaceIfAddDigit:!1}),void e.setDigit(t.key)):void e.addDigit(t.key))},this.onKeyUp=function(t){t.preventDefault(),e.autoChangeFocusIfSuitable(),e.props.onUnhandledKeyUp(t.key)},this.onPaste=function(e){e.preventDefault()},this.onChange=function(e){e.preventDefault()},this.onInput=function(e){e.preventDefault()},this.onFocus=function(t){var n=e.props.onFocus,o=e.state.digits;e.setState({focused:!0,shouldReplaceIfAddDigit:!0,autoChangeFocusAllowed:D(o)},(function(){return n(t)}))},this.onBlur=function(t){var n=e.props.onBlur,o=e.state,r=o.digits,i=o.value;e.setState({focused:!1},(function(){n(t),e.setState({isTemp:!1},(function(){var t=a(e.getValidDigitsAndValue(r,i),2),n=t[0],o=t[1];e.updateDigitsAndValue(n,o),e.setState({lastValidDigitsAndValueBeforeBlur:[n,o]})}))}))},this.getDisplayedValue=function(){var t=e.props.emptyDigit,n=e.state.digits;return n.every((function(e){return null===e}))?n.map((function(){return t})).join(""):n.map((function(e){return null===e?"0":e})).join("")},this.getInputStyle=function(t){return{boxSizing:"content-box",padding:"".concat(3,"px ").concat(1,"px"),textAlign:"center",minWidth:P(t,e.input||document.body)+2+"px"}}};function m(e){var t=e.filter((function(e){return null!==e}));return 0===t.length?null:t.join("")}function b(e,t){var n=String(t).length;if(null===e||e<0){for(var o=[],r=0;r<n;r++)o.push(null);return o}var i=String(e).split("");if(i.length>0)for(;Number(i.join(""))>t;)i.shift();if(10*Number(i.join(""))>t)for(;i.length<n;)i.unshift("0");else for(;i.length<n;)i.unshift(null);return i}function D(e){return e.every((function(e){return null===e}))}g.defaultProps={defaultValue:null,value:void 0,min:0,max:99,emptyDigit:"-",increasingDefaultNumber:void 0,decreasingDefaultNumber:void 0,disabled:!1,onInputRef:function(e){},onChange:function(e,t){return console.log("(TemplateInput/NumberPiece) onChange is omitted",e,t)},onBackward:function(){},onForward:function(){},onFocus:function(){},onBlur:function(){},onUnhandledKeyDown:function(e){},onUnhandledKeyUp:function(e){},autoChangeFocus:function(){}};var S=document.createElement("canvas").getContext("2d");function P(e,t){return S.font=window.getComputedStyle(t).font,S.measureText(e).width}n(7);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=F(e);if(t){var r=F(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(u,e);var t,n,o,i=k(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={},t}return t=u,(n=[{key:"render",value:function(){return r.a.createElement("div",{className:"select-piece"})}}])&&A(t.prototype,n),o&&A(t,o),u}(r.a.Component);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(t){var r=_(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R="number",E="select",U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(u,e);var t,n,o,i=T(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).updateValue=function(e,n,o){var r=t.props.onChange,i=t.state.values;i[e]=n,t.setState({values:i},o?function(){return r(i)}:void 0)},t.updateFocusedPiece=function(e,n){t.setState({focusedPieceKey:e},n)},t.focusPiece=function(e){t.setState({forcedFocusedPieceKey:e})},t.autoChangeFocus=function(e){for(var n=t.props.template,o=null,r=null,i=!1,u=0;u<n.length;u++){var a=n[u];if(a.key!==e){if(!t.getIsAlienPiece(a)){if(i){r=a.key;break}null===o&&(o=a.key)}}else i=!0}null===r?null!==o&&t.focusPiece(o):t.focusPiece(r)},t.focusNextPiece=function(e){var n=t.getSiblingPiece(e,!0);return!!n&&(t.focusPiece(n.key),!0)},t.focusPrevPiece=function(e){var n=t.getSiblingPiece(e,!1);return!!n&&(t.focusPiece(n.key),!0)},t.focusFirstPiece=function(){for(var e=t.props.template,n=0;n<e.length;n++){var o=e[n];if(!t.getIsAlienPiece(o))return void t.focusPiece(o.key)}},t.focusLastPiece=function(){for(var e=t.props.template,n=e.length-1;n>=0;n--){var o=e[n];if(!t.getIsAlienPiece(o))return void t.focusPiece(o.key)}},t.getSiblingPiece=function(e,n){var o=t.props.template,r=[].concat(o);n||r.reverse();var i=!1;return r.find((function(n){return!t.getIsAlienPiece(n)&&(null===e?n:e===n.key?(i=!0,!1):i)}))},t.getIsAlienPiece=function(e){return"string"==typeof e||!!r.a.isValidElement(e)},t.getAlienPiece=function(e){return e},t.getNumberPiece=function(e,n){var o=t.props,i=o.defaultValues,u=o.onUnhandledKeyDown,a=o.onUnhandledKeyUp,c=t.state,l=c.values,s=c.forcedFocusedPieceKey,f=void 0!==t.props.values?t.props.values[e.key]:void 0,p=null!==i?i[e.key]:null,d="number"==typeof e.min?e.min:e.min(l),y="number"==typeof e.max?e.max:e.max(l);return r.a.createElement(g,{value:f,defaultValue:p,emptyDigit:e.emptyDigit,min:d,max:y,increasingDefaultNumber:e.increasingDefaultNumber,decreasingDefaultNumber:e.decreasingDefaultNumber,disabled:n,onInputRef:function(n){n&&s===e.key&&(n.focus(),t.focusPiece(null))},onChange:function(n,o){return t.updateValue(e.key,n,o)},onBackward:function(){return t.focusPrevPiece(e.key)||t.focusLastPiece()},onForward:function(){return t.focusNextPiece(e.key)||t.focusFirstPiece()},onBlur:function(n){setTimeout((function(){t.state.focusedPieceKey===e.key&&(t.updateFocusedPiece(null),t.props.onBlurAll())}),0)},onFocus:function(n){t.updateFocusedPiece(e.key,(function(){t.props.onFocus(e.key)}))},onUnhandledKeyDown:u,onUnhandledKeyUp:a,autoChangeFocus:function(){return t.autoChangeFocus(e.key)}})},t.getSelectPiece=function(e,t){return r.a.createElement(O,null)},t.getPiece=function(e,n){return t.getIsAlienPiece(e)?t.getAlienPiece(e):e.type===R?t.getNumberPiece(e,n):e.type===E?t.getSelectPiece(e,n):void 0},t.onClick=function(e){if(null===t.state.focusedPieceKey){var n=t.getSiblingPiece(null,!0);t.focusPiece(n.key)}},t.state={values:null!==e.defaultValues?e.defaultValues:{},focusedPieceKey:null,forcedFocusedPieceKey:null},t}return t=u,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n,o;return void 0!==e.values&&(n=e.values,o=t.values,JSON.stringify(n)!==JSON.stringify(o))?(t.values=e.values,t):null}}],(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.template,o=t.disabled;return r.a.createElement("div",{className:"patterned-input",onClick:function(t){return e.onClick(t)}},r.a.createElement("ul",null,n.map((function(t,n){return r.a.createElement("li",{key:t.key||n},e.getPiece(t,o))}))))}}])&&j(t.prototype,n),o&&j(t,o),u}(r.a.Component);U.defaultProps={defaultValues:null,values:void 0,template:[],onChange:function(e){return console.log("(PatternedInput) onChange is omitted",e)},onFocus:function(e){},onBlurAll:function(){},onUnhandledKeyDown:function(e){},onUnhandledKeyUp:function(e){}};t.default=U}]);